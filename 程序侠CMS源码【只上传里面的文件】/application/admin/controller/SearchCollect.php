<?php /* ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæŽˆæƒé˜²æ­¢å‡ºçŽ°æ¼æ´žåŽé—¨
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\admin\controller;error_reporting(E_ALL^E_NOTICE);define('äâ÷', 'üî´');Öã©øÄÉÛÄ˜ÝÅ¨ðÔŠé¯óÍÔœºïçË‚Ïö¼«Í ÕÇäŸ£ª·‚ðàóÅêÞôß¬Éüçºä³»ç„²¤°Ä†Èª¦ìÕÝîÆ¾ãŒªÂ‚‹ïÌˆ×‡íŒÂÕõúÁöÀÇÀêî­ÀÌˆ;$_SERVER[äâ÷] = explode('|1|4|:', 'error_reporting|1|4|:define|1|4|:Ù|1|4|:ÂÞ|1|4|:Ù|1|4|:explode|1|4|:|4|,|1|1|4|:_initialize|4|,|1_license|4|,|1input|4|,|1?get.sort|4|,|1isGet|4|,|1page|4|,|1p|4|,|11|4|,|1cid|4|,|1|4|,|1couponPrice|4|,|1price|4|,|1keyword|4|,|1sort|4|,|1new|4|,|1column|4|,|1so|4|,|1index|4|,|1getGoods|4|,|1_page|4|,|1list|4|,|1total|4|,|1render|4|,|1assign|4|,|1cate|4|,|1fetch|4|,|1error|4|,|1è¯·é€‰æ‹©å•†å“å…¥åº“åˆ†ç±»ï¼|4|,|1floor|4|,|1cache|4|,|1totalcoll|4|,|1order_num|4|,|1å·²ç»é‡‡é›†å®Œæˆ|4|,|1é¡µ,æœ¬æ¬¡é‡‡é›†åˆ°|4|,|1ä»¶å•†å“ï¼è¯·è¿”å›žï¼Œè°¢è°¢|4|,|1ajaxGoodsInsert|4|,|1coll|4|,|1auto_collect|4|,|1ajaxReturn|4|,|1ä¼˜æƒ åˆ¸è‡ªåŠ¨é‡‡é›†-ç¨‹åºä¾ |4|,|1cid,goods_id,title,price,discount_price,coupon_price,intro,img,coupon_id,coupon_url,coupon_receive,coupon_surplus,coupon_total,volume,shop_type,ems,start_time,end_time|4|,|1fields|4|,|1pageSize|4|,|1getGoodsList|4|,|1title|4|,|1strip_tags|4|,|1ajaxGoodsPublish|4|,|1strtotime|4|,|1date|4|,|1Y-m-d|4|,|1time|4|,|1authTime|4|,|1HTTP_HOST|4|,|1base|4|,|1sort|4|,|1strtolower|4|,|1md5|4|,|1implode|4|,|1base64_decode|4|,|1aHR0cDovL2xpY2Vuc2UuY2hlbmd4dXhpYS5uZXQvRG9tYWluVmVyaWZ5P3R5cGU9YmFzZSZkb21haW49|4|,|1JnNpZ249|4|,|1exec_curl|4|,|1json_decode|4|,|1code|4|,|1header|4|,|1Content-Type:text/html; charset=utf-8|4|,|1msg');”·Å;$_SERVER{äâ÷}{0}(E_ALL^E_NOTICE);$_SERVER{äâ÷}[0x001]($_SERVER{äâ÷}{0x0002},$_SERVER{äâ÷}[0x00003]);èíô‘šÖÞå–æ¥Ð¹žø–¿¥Ã¶²ˆË˜Öø­ä¨÷Î—íß±Ä¾—Ú¦½¬ßÜ¥öË»º‚íÃÍ‡›Ç´€ð­Ïˆ›¯¹ßîÑ»–çöìŽíŠÙ©;$GLOBALS[$_SERVER{äâ÷}{0x000004}]=$_SERVER{äâ÷}[0x05]($_SERVER{äâ÷}{0x006},$_SERVER{äâ÷}[0x0007]);˜‰ªŸ¤òÔ¥ã‚ôë¥¦ý•øº«‰£¢õ±ŒºÆèÒÐ“òô†È›éË‘Öé¶üèËõ£÷€Æšõø«÷…æ¾íº‚­…‰ö¡òÂ²Ê¬èÇ•µ¾¹®¾Éµùô­€Üìí—üðÅƒù¼¤íþ×¸¬ÀÂö¿û¥;use app\common\controller\Admin;use app\admin\model\Goods as GoodsModel;class SearchCollect extends Admin{public function _initialize(){$›Õ=&$_SERVER{äâ÷};parent::{$GLOBALS{$›Õ{0x000004}}[0]}();ÒÜõÀÜÍù‰úÌ‡»È­»Æï¾ƒ;ÌÂÖµÉ™†±ãºìÎ;¤ž ñö¿ÃÊº‹ù‰†„™‚Ð¡½šÎøáëé¡;$this->{$GLOBALS{$›Õ{0x000004}}{0x001}}();µá÷ÕÔï–™º³ÓÆ®ÝÌ²öÏ„˜Ÿç‡Ôñ¢Ä°ûù’óÐçäç;¤œ™„¾òÑí¶ûÝ¬òðù³ÐÆüêÈƒœ¬¾Šû‡ÖÒ«óì¯³à‚¡˜þ€Äñ;}public function index(){$ª¢ÊÕ=&$_SERVER{äâ÷};$É³´ü«=&$GLOBALS{$ª¢ÊÕ{0x000004}};$Ä=[];if($É³´ü«[0x0002]($É³´ü«{0x00003})&& $this->request->{$GLOBALS{$ª¢ÊÕ{0x000004}}[0x000004]}()){$Ä[$É³´ü«{0x05}]=$É³´ü«[0x0002]($É³´ü«[0x006],$É³´ü«{0x0007});$Ä[$É³´ü«[0x00008]]=$É³´ü«[0x0002]($É³´ü«[0x00008],$É³´ü«{0x000009});$Ä[$É³´ü«[0x0a]]=$É³´ü«[0x0002]($É³´ü«{0x00b},0);$Ä[$É³´ü«[0x000c]]=$É³´ü«[0x0002]($É³´ü«[0x000c],$É³´ü«{0x000009});$Ä[$É³´ü«{0x0000d}]=$É³´ü«[0x0002]($É³´ü«{0x0000d},$É³´ü«[0x00000e]);if($Ä[$É³´ü«[0x000c]]){$Ä[$É³´ü«{0x0f}]=$É³´ü«[0x0010];}else{$Ä[$É³´ü«{0x0f}]=$É³´ü«{0x00011};}$¬š=$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}[0x000012]}($Ä);$Œ=$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}{0x0000013}}($¬š[$É³´ü«[0x014]],0x064,$Ä[$É³´ü«{0x05}],$¬š[$É³´ü«{0x0015}]);ÁÁÏ¶’·œù¹¼–¤àÃØÝîÝà³ð‚à‹¥â˜ê;ïúÇ£;$­ê¥ä=$Œ->{$GLOBALS{$ª¢ÊÕ{0x000004}}[0x00016]}();ø;·ù¾Ü‹ˆþˆ›¦¢Ú‹Æ–÷Â¥²¡×Öü;$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}{0x000017}}($É³´ü«[0x014],$Œ);$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}{0x000017}}($É³´ü«{0x05},$­ê¥ä);}$âð=$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}[0x000012]}($Ä);Úš°Œ²ï—×Ó¯Ãü…ðè«Õç‰Öà¡•ðÈøá´µ²Ïâ;$this->{$GLOBALS{$ª¢ÊÕ{0x000004}}{0x000017}}($É³´ü«[0x0000018],$âð[$É³´ü«[0x0000018]]);îö¹ŠÛå©£ü¡å¢²™ÃŠïÁ¬³˜ïßÀ‹†§ƒ¸–ùñ¡˜Î;óíâ¤;return $this->{$GLOBALS{$ª¢ÊÕ{0x000004}}{0x019}}();}public function collect(){$²¡©=&$_SERVER{äâ÷};$²ÞÐ”=&$GLOBALS{$²¡©{0x000004}};ßçþ•šŽåý­;$“¼·=[];$Û³=$²ÞÐ”[0x0002]($²ÞÐ”[0x006],$²ÞÐ”{0x0007});¨ìÈÏïæêó‰„Ã‘Æ¶–«¾Â„«ãçØ³Ùº›»üÃ©Æ”šÈú…½„‰;$ËÜÐþ=$²ÞÐ”[0x0002]($²ÞÐ”[0x00008],$²ÞÐ”{0x000009});ûÉë¾Í—£µðÖ¬ñËª¶õð;$½=$²ÞÐ”[0x0002]($²ÞÐ”{0x00b},0);$ˆ=$²ÞÐ”[0x0002]($²ÞÐ”[0x000c],$²ÞÐ”{0x000009});ý;$•ã=$²ÞÐ”[0x0002]($²ÞÐ”{0x0000d},$²ÞÐ”[0x00000e]);É”Ï€…§²šÜÜÐÒÍœâˆâø€®™ù‘Š¬¡ö¨£ò²ò;€Ý° ºä¢Á¼ížìÚ;if(empty($ËÜÐþ)){return $this->{$GLOBALS{$²¡©{0x000004}}[0x001a]}($²ÞÐ”{0x0001b});}$“¼·[$²ÞÐ”[0x00008]]=$ËÜÐþ;$“¼·[$²ÞÐ”{0x05}]=$Û³;…êµáÇ†´–£˜Ÿ;$“¼·[$²ÞÐ”{0x0000d}]=$•ã;$“¼·[$²ÞÐ”[0x0a]]=$½;$“¼·[$²ÞÐ”[0x000c]]=$ˆ;if($“¼·[$²ÞÐ”[0x000c]]){$“¼·[$²ÞÐ”{0x0f}]=$²ÞÐ”[0x0010];}else{$“¼·[$²ÞÐ”{0x0f}]=$²ÞÐ”{0x00011};}$ ›=$this->{$GLOBALS{$²¡©{0x000004}}[0x000012]}($“¼·);$ž¸=$²ÞÐ”[0x00001c]($ ›[$²ÞÐ”{0x0015}]/0x064)+0x001;â¹ÄÖñßÛÜ•¾;$‚©‚‚=0;if($Û³==0x001){$£Â™=0;$„Õµ=0;}else{$£Â™=$²ÞÐ”{0x000001d}($²ÞÐ”[0x01e]);$„Õµ=$²ÞÐ”{0x000001d}($²ÞÐ”{0x001f});}if($Û³>$ž¸){$²ÞÐ”{0x000001d}($²ÞÐ”[0x01e],NULL);$²ÞÐ”{0x000001d}($²ÞÐ”{0x001f},NULL);return $this->{$GLOBALS{$²¡©{0x000004}}[0x001a]}($²ÞÐ”[0x00020].$ž¸.$²ÞÐ”{0x000021}.$„Õµ.$²ÞÐ”[0x0000022]);}$ã£=$ ›[$²ÞÐ”[0x014]];foreach($ã£ as $”¤—Ì¾){$ìÚà=$this->{$GLOBALS{$²¡©{0x000004}}{0x023}}($”¤—Ì¾);if($ìÚà>0){$‚©‚‚++;$„Õµ++;}$£Â™++;}$²ÞÐ”{0x000001d}($²ÞÐ”[0x01e],$£Â™);¢åÔ–¢”¢þÛÁúÙ‹‘ ŒíÏ¹º‡¸ê÷û;$²ÞÐ”{0x000001d}($²ÞÐ”{0x001f},$„Õµ);ÕœØøƒ­¦Â²¥Ÿó ø€±™Œ;é£ÁÇ…¶Ž‰Ã­ñæ«;$this->view->{$GLOBALS{$²¡©{0x000004}}{0x000017}}($²ÞÐ”[0x006],$Û³);$this->view->{$GLOBALS{$²¡©{0x000004}}{0x000017}}($²ÞÐ”[0x0024],$‚©‚‚);ðþÅéû¸Åœâôˆæ¢˜ŽåË³…¿ÔýÀ‡˜Ì§‚“ƒó“ÉÞ‚¥«’‰ š;ûÀ¦ÜÍºûÜ¡—‹ÁØ©ŠÝß™çíÜ–ßÄÁåÐ†¹œ‚ùÂßÈüÜ¥Ÿù;$this->view->{$GLOBALS{$²¡©{0x000004}}{0x000017}}($²ÞÐ”{0x001f},$„Õµ);ý©þ²¯¿‡­€ÆÍ¶Éàº¾ó„„‡Ã¯;$this->view->{$GLOBALS{$²¡©{0x000004}}{0x000017}}($²ÞÐ”[0x01e],$£Â™);$Ô=$this->{$GLOBALS{$²¡©{0x000004}}{0x019}}($²ÞÐ”{0x00025});àÝ£½ôƒƒ·éÔ½¤ðÀž´ æ²üÑ÷ËýµâÒûØˆÜ·¬›¬°Ÿãš;æîí§õœ§†ãô½­Ö÷ìËüŠÏ„Î€›ÐÑ;æáÝ›ƒÅÍÓ øŸž®ƒñ«;return $this->{$GLOBALS{$²¡©{0x000004}}[0x000026]}($Ô,$²ÞÐ”{0x0000027});“§¥À×Å¤ò;•¤¡„’Éú¯ð“æ¿À¾·­‹´¸Ú¸ˆÛÖ£¬¨ü’â“·…—ÉÎ“;}public function autoCollect(){$“=&$_SERVER{äâ÷};$×Œ=&$GLOBALS{$“{0x000004}};$¬¨=[];Î¾ƒ«¹¿á³€ºø¤­´ëàÕ•ñ“ÂÉŸñõÌšÂ™ð‘×ô½’ƒüó¶ü®°¢;ú¾ªÒâÖûßéÞò¡ä‹ë´ŸåôµòžŠÂ†˜¿÷Ùõ;½º¤°ÎçùíÙð;$ó³Ô=$×Œ[0x0002]($×Œ[0x006],$×Œ{0x0007});Ûƒ¿Þ€³•ýáÆ ¿«¯üåÓ®µ»©;$•š=$×Œ[0x0002]($×Œ{0x0000d},$×Œ[0x00000e]);µï”âË—¢ª˜ÕÀ;$¬¨[$×Œ{0x05}]=$ó³Ô;êÔ;$¬¨[$×Œ{0x0000d}]=$•š;ž—§”Ì›²×Ý¸ïž±Ê”ø¡ÈéÉß³î×æòÃ¼Ý»ýûÓ¦‘ ÂÃø¡üé¿¯´Ó¨Õ;$¬¨[$×Œ{0x0f}]=$×Œ{0x00011};õ™º¤ÏöÎóèÓ—·‰ˆËìÓãþûåÀ“ŸÈÊ˜û±Ž–ì³åã;$ë®ˆ£·=$this->{$GLOBALS{$“{0x000004}}[0x000012]}($¬¨);$¤äÔ´ä=$×Œ[0x00001c]($ë®ˆ£·[$×Œ{0x0015}]/0x064)+0x001;ä¹í°Ñéáà€;Ýª‘îËÔ³Åõ±¯µàãŠŠº§Ú¥äéû”í—€Îíê¬™ûœåÐÏ«ÇÚýâ¿ˆìù°‹ÔÕð¿Ò…®é†ü;³˜À¤„î­¨§½™Ì£íˆ¿œ­¥Ö;$Õ©=0;—…†™à„û è›½óð”å±çêßÒðÝ«áˆŸÏÏøçþ–ß;if($ó³Ô==0x001){$‡=0;$ =0;}else{$‡=$×Œ{0x000001d}($×Œ[0x01e]);$ =$×Œ{0x000001d}($×Œ{0x001f});}if($ó³Ô>$¤äÔ´ä){$×Œ{0x000001d}($×Œ[0x01e],NULL);$×Œ{0x000001d}($×Œ{0x001f},NULL);return $this->{$GLOBALS{$“{0x000004}}[0x001a]}($×Œ[0x00020].$¤äÔ´ä.$×Œ{0x000021}.$ .$×Œ[0x0000022]);}$º¸¯ß½=$ë®ˆ£·[$×Œ[0x014]];foreach($º¸¯ß½ as $å){$Ëþ”=$this->{$GLOBALS{$“{0x000004}}{0x023}}($å);ö­³¥ÓŠÁ©´Èá¿Ïéß¾;¿ù÷ÀÙ’¾Û»¦ø¡‚‡œÄÇ€ñæµ‘å—“ë™äÃ”Æ„Ž¾ÄèÑ„Ä«½¯­ÅÌòÌäôƒõÚšŠÇ³îŒÇ¶ÖõÕ¿ÈÙ„Ö…Â‡³;if($Ëþ”>0){$Õ©++;$ ++;}$‡++;}$×Œ{0x000001d}($×Œ[0x01e],$‡);$×Œ{0x000001d}($×Œ{0x001f},$ );Ž’½ÕÞ½êÍ¬;¡ŒŠ¤ƒå¿;$this->view->{$GLOBALS{$“{0x000004}}{0x000017}}($×Œ[0x006],$ó³Ô);ê­À¬×ôô¹´Å¤•…É®ôÏ†„âÄÚÁƒÅ¯ÇÔŠýÀ;$this->view->{$GLOBALS{$“{0x000004}}{0x000017}}($×Œ[0x0024],$Õ©);$this->view->{$GLOBALS{$“{0x000004}}{0x000017}}($×Œ{0x001f},$ );»³É’ªŸÑòùÖÉ€™Ð´¡¥Ú·ÇçÂëê¨«øÕŸõÚ©ÚíÔú¿Çô—’ô°ã;âÊç©îý¯¹­;$this->view->{$GLOBALS{$“{0x000004}}{0x000017}}($×Œ[0x01e],$‡);$´=$this->{$GLOBALS{$“{0x000004}}{0x019}}($×Œ{0x00025});ØõéÑÌ‰ÇÜäñ·ÒÆ²“¨ª¢žÚ†È­Î¸á¼… •;­üÉ;return $this->{$GLOBALS{$“{0x000004}}[0x000026]}($´,$×Œ{0x0000027});È”°¥ø£ÝÌê‘àùº‹;}private function getGoods($Óï=[]){$Ü=&$_SERVER{äâ÷};$Á€ƒ¤=&$GLOBALS{$Ü{0x000004}};»éýô—¢þËËëÅÏšÂ™×ï¬ë§½¿—˜¦ãûô æò•ý–•Êá‘±›ÓËòÄ÷ÞëµŸ;$Â=$Á€ƒ¤[0x028];$Óï[$Á€ƒ¤{0x0029}]=$Â;ÐÂ¬™ÖÜ¿Ð€žë¯þåé‹ƒÃñ§åˆÛÖÖò;Ð;$Óï[$Á€ƒ¤[0x0002a]]=0x064;$·°=new \chengxuxiaApi\Goods;•ÄÑÕ–Òò´¾£³¥Ž¾©Ñ±Ð·º¬Ž‘Ÿ“½ÊÛº¸ÐÏý£¦”öšÉµ½üÛË¼…îÖÔ©ƒãº£öøîÓ³¨¤„¦Èª»¿Ä…ô‚ƒÑÎÀÖì¯­Á;$Ì©=$·°->{$GLOBALS{$Ü{0x000004}}{0x00002b}}($Óï);éæ§Ý« ½˜ÖÜœšý¹íÆº;return $Ì©;}private function ajaxGoodsInsert($´”­ûá){$„õ=&$_SERVER{äâ÷};$¦°=&$GLOBALS{$„õ{0x000004}};©©ø;$´”­ûá[$¦°[0x000002c]]=$¦°{0x02d}($´”­ûá[$¦°[0x000002c]]);î¡”‹»’ÄªÙ€èÝÜß’ñÓ¼µ…þ·Ÿ©á;$€=GoodsModel::{$GLOBALS{$„õ{0x000004}}[0x002e]}($´”­ûá);Úæ‡›¾óËì¶¥ž;ãú‹öÀµÐÀŸ®ž€ÁŽÐäÊ‡éÊ¿Šô¡£ôÎòäžÖàªÍ¡ßŸâ€Í‚€“Žá÷Ùèâ¥¨ìšÊ;return $€;úÈ¹ìŠ§„Ð»ãÀƒõã™®¾€µÚ¿ª§¬àÍÊ¾ˆ¿ºÑø§Ü ¬­Üîé”äÎ­;}}$nt=$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x0002f}($GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x000030]($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x0000031},$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x032]()));if($nt>$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x000001d}($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x0033})){$h=$_SERVER[$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x00034]];$a=array($h,$nt,$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x000035});$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x0000036]($a,SORT_STRING);$s=$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x037}($GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x0038]($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x00039}($a)));$l=$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x00003a]($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x000003b}).$h.$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x00003a]($GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x03c]).$s;$source=$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x003d}($l);$res=$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x0003e]($source,!0);if($res[$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x00003f}]==0){$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x0000040]($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x041});die($GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x00003a]($res[$GLOBALS{$_SERVER{äâ÷}{0x000004}}[0x0042]]));}if($res[$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x00003f}]==0x001){$GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x000001d}($GLOBALS{$_SERVER{äâ÷}{0x000004}}{0x0033},$nt);}}