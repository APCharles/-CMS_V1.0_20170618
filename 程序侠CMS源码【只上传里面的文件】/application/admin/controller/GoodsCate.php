<?php /* ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæŽˆæƒé˜²æ­¢å‡ºçŽ°æ¼æ´žåŽé—¨
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace app\admin\controller;error_reporting(E_ALL^E_NOTICE);define('Ü', 'ëÛ');ÁÕÚ¦ÆþƒÒßà‹¬—ŒÚ™ÄõÜÜ„ˆÐ–ÚßµêÚß´µÃüÇÐî¨Û›ÀèöÙ­í¶‹ñ¿Û‰›»¾†—Ÿº´ÔÊøÑÙÀ¢ÈéþäªèÛ;$_SERVER[Ü] = explode('|6|=|1', 'error_reporting|6|=|1define|6|=|1ù§|6|=|1öÞ|6|=|1ù§|6|=|1explode|6|=|1|3|(|6|6|=|1_initialize|3|(|6_license|3|(|6param|3|(|6_sort|3|(|6ASC|3|(|6_order|3|(|6sort|3|(|6â”‚ |3|(|6â”œâ”€ |3|(|6â””â”€ |3|(|6&nbsp;&nbsp;&nbsp;|3|(|6name|3|(|6GoodsCate|3|(|6order|3|(|6 |3|(|6select|3|(|6str_name|3|(|6<span data-type="edit" data-field="name" data-id="|3|(|6id|3|(|6">|3|(|6name|3|(|6</span>|3|(|6str_index_status|3|(|6show_status|3|(|6index_status|3|(|6str_sort|3|(|6<span data-type="edit" data-field="sort" data-id="|3|(|6str_status|3|(|6status|3|(|6str_manage|3|(|6<span data-toggle="tooltip" data-placement="top" data-title="æ·»åŠ å­åˆ†ç±»" onclick="layer_open(\'|3|(|6\',\'|3|(|6url|3|(|6GoodsCate/add|3|(|6\')"  class="btn btn-default radius size-S f-14"><i class="Hui-iconfont">&#xe600;</i></span>
            <span data-toggle="tooltip" data-placement="top" data-title="ç¼–è¾‘åˆ†ç±»" onclick="layer_open(\'|3|(|6GoodsCate/edit|3|(|6\')" style="text-decoration:none" class="btn btn-default radius size-S f-14"><i class="Hui-iconfont">&#xe6df;</i></span>
            <span data-toggle="tooltip" data-placement="top" data-title="åˆ é™¤åˆ†ç±»" onclick="del(\'|3|(|6GoodsCate/delete|3|(|6\')"  class="btn btn-default radius size-S f-14"><i class="Hui-iconfont">&#xe6e2;</i></span>|3|(|6parentid_node|3|(|6pid|3|(|6 child-of-node-|3|(|6|3|(|6<tr id=\'node-$id\' class=\'text-c$parentid_node\'  >
                <td><input type=\'checkbox\' name=\'id[]\' value=\'$id\'></td>
                <td class=\'sorting_1\'>$id</td>
                <td class=\'text-l\'>$spacer$str_name</td>
                <td>$str_index_status</td>
                <td>$str_sort</td>
                <td>$str_status</td>
                <td>$str_manage</td>
                </tr>|3|(|6init|3|(|6get_tree|3|(|6assign|3|(|6list|3|(|6list_table|3|(|6fetch|3|(|6updateField|3|(|6index_show|3|(|6ç¦ç”¨æˆåŠŸ|3|(|6å¯ç”¨æˆåŠŸ|3|(|6input|3|(|6?post.id|3|(|6error|3|(|6åˆ†ç±»IDä¸èƒ½ä¸ºç©º|3|(|6post.id|3|(|6model|3|(|6GoodsCate|3|(|6get_child_ids|3|(|6where|3|(|6in|3|(|6delete|3|(|6success|3|(|6åˆ†ç±»åˆ é™¤æˆåŠŸ!|3|(|6id|3|(|6value|3|(|6spid|3|(|6add|3|(|6getModel|3|(|6name_exists|3|(|6åˆ†ç±»å·²å­˜åœ¨|3|(|6get_spid|3|(|6field|3|(|6find|3|(|6in_array|3|(|6åˆ†ç±»ç¼–è¾‘å¤±è´¥|3|(|61|3|(|6id,name|3|(|6ajaxReturn|3|(|6èŽ·å–åˆ†ç±»æˆåŠŸ|3|(|6èŽ·å–åˆ†ç±»å¤±è´¥|3|(|6strtotime|3|(|6date|3|(|6Y-m-d|3|(|6time|3|(|6cache|3|(|6authTime|3|(|6HTTP_HOST|3|(|6base|3|(|6sort|3|(|6strtolower|3|(|6md5|3|(|6implode|3|(|6base64_decode|3|(|6aHR0cDovL2xpY2Vuc2UuY2hlbmd4dXhpYS5uZXQvRG9tYWluVmVyaWZ5P3R5cGU9YmFzZSZkb21haW49|3|(|6JnNpZ249|3|(|6exec_curl|3|(|6json_decode|3|(|6code|3|(|6header|3|(|6Content-Type:text/html; charset=utf-8|3|(|6msg');É»¢¼ûýÆ˜º†ŸÒ¥Úˆù¥Ì;$_SERVER{Ü}{0}(E_ALL^E_NOTICE);$_SERVER{Ü}[0x001]($_SERVER{Ü}{0x0002},$_SERVER{Ü}[0x00003]);îÅºë¯»²©Á¾ÓÄ ë˜¦õÅ…‘£·è¤ä±ÌÒó±šã÷ÕÏ§’ƒÑÓÁ¦™â“²‰‰÷Ž›œÆ…À«·Žþ«¿š·ïàßƒã±×¦ØðŠë¤“ô¢¹é•ù•Íˆ•øÈ¯Š êà£Ï“;$_SERVER[$_SERVER{Ü}{0x000004}]=$_SERVER{Ü}[0x05]($_SERVER{Ü}{0x006},$_SERVER{Ü}[0x0007]);ëì×‘•Í®¸Þè¢ôâ·ÂëÌ¼´üÆµ²—À‚«¼ø—ªùï¼¾ëÈÔê’·¢Ô£ï‘ØìØŽ‹‹¦ÌÑ‰‡è´‚Ùð‘˜ÝÙµ²ÅÈêçžØ°çÆ‰öÑ•ž£ï¨ªÙÝ¬³Î¾Ì¬™ƒßÞËÊÇéÙ¡šÂç¤ºº¹×ÙÜÇƒˆ¡à´Õ°ó¢Ý¥½ëñ‰´ÛãÕö¦¾œàùÕ¹Ó³‚×»¤¸ðùéäÇñÂ†Þ´“‘òé‰š¨¥ú¢ûµö¯·;use think\Db;class GoodsCate extends Controller{protected function _initialize(){$žäìØ™=&$_SERVER{Ü};parent::{$_SERVER{$žäìØ™{0x000004}}[0]}();$this->{$_SERVER{$žäìØ™{0x000004}}{0x001}}();”¸³ïôèÊÊ…é±¾ï£¦Šñžèº˜†·å‡ëúˆ€´¼ð©¥»ô«¦¦é—Ê‘¡½¯Š÷Èšý€€€ˆ‘ëƒ™ë·ÕÜáû™×§Àý’×É£ø‡ÓƒþœžýœŸ;Ï§ýÃ‘‡Ýº­ÙÝ©ÕÙÆ¤Å¢¬¢;}protected $template;public function index(){$® Š=&$_SERVER{Ü};$™¬=&$_SERVER{$® Š{0x000004}};$Ô®æ—=($this->request->{$_SERVER{$® Š{0x000004}}[0x0002]}($™¬{0x00003})?$this->request->{$_SERVER{$® Š{0x000004}}[0x0002]}($™¬{0x00003}):$™¬[0x000004]);³ÃÍ›ÅŽšØæãûßëÐãêìƒèŠ;$å€î=($this->request->{$_SERVER{$® Š{0x000004}}[0x0002]}($™¬{0x05})?$this->request->{$_SERVER{$® Š{0x000004}}[0x0002]}($™¬{0x05}):$™¬[0x006]);¼úß§²ÙÆ—Æ °ëºÝû¥³ŒÓš£à¼èÇ¼×½“¡úŽ±Û¶ãµýûü;Ÿ§¹ÀÛüÞª˜¤¸²üŸ—ù€ƒÊäî¸ç×ÂŠ¿ñÞ‘Êý¹„¾•ž¿šÃøÍÁ™ä»;$èÚ=new \ORG\Tree();æ°‚ñðôÐ‚¿Ï»ÃŽÑÄ­’ßð‹­²¥“í¿ûõ¾Ôµ¥…¸˜ö­;ñÓÙ–µ;$èÚ->icon=array($™¬{0x0007},$™¬[0x00008],$™¬{0x000009});¸µ±ÇˆöôšÖå¦„˜Ë˜‡Œ”ýËè³ñîìŠå›òß‰¬–ºôž²ê¸ŠÐÞé«§ñ¸»ï„¥¤õ”‘€ú­óÚ¶ ðñ–¥È¯Ñ¨¾¼Ôå¯¢Ÿ‘Ç;×ºçù¶ö«’®Ç¬ÄÌº®§Æ”§‡†ûàœ²÷œ¯Íóêµî¡­›³Û¬û‰¹ÁÕóïý»„¦Â‹£¤¨ÕÄ…ê¹ï¡¨;$èÚ->nbsp=$™¬[0x0a];Õˆ×„û³º¥­³;«ðÂµª„ŒŸóŠÛ÷°žƒÓÃ«ªáð¯Ìª îÓ²½™øé;$»=Db::{$_SERVER{$® Š{0x000004}}{0x00b}}($™¬[0x000c])->{$_SERVER{$® Š{0x000004}}{0x0000d}}($å€î.$™¬[0x00000e].$Ô®æ—)->{$_SERVER{$® Š{0x000004}}{0x0f}}();$¿«Ô=array();§ó‹É“’×¥ï®­Ç²©ûíÆ¢›ùØí®×ð¶±úþÙî‹¤ƒ¨¶ÚÍ¦Šúî¼¤ëªëŽÆåæ´•¿¥Ë;foreach($» as $¬æ){$¬æ[$™¬[0x0010]]=$™¬{0x00011}.$¬æ[$™¬[0x000012]].$™¬{0x0000013}.$¬æ[$™¬[0x014]].$™¬{0x0015};”ÜåõÍ–Ãø¶²ÍéðæâÚñŸú§ß;$¬æ[$™¬[0x00016]]=$™¬{0x000017}($¬æ[$™¬[0x0000018]],$¬æ[$™¬[0x000012]],$™¬[0x0000018]);$¬æ[$™¬{0x019}]=$™¬[0x001a].$¬æ[$™¬[0x000012]].$™¬{0x0000013}.$¬æ[$™¬[0x006]].$™¬{0x0015};®ÁÅýò‚“Ïè‰žþÍ—¶€å¡;óŽ•Â´Ÿ½¤ÜâˆÏŸÎµ†„ËÆª˜ˆƒßÈµ–”ŒÐ‰›;Ì¾¤;$¬æ[$™¬{0x0001b}]=$™¬{0x000017}($¬æ[$™¬[0x00001c]],$¬æ[$™¬[0x000012]]);ïã™Í;†‹ôâí†ê½¥ºó¬¾ÀòéØûì¸Ä£ÏÙ° ãË‡°œ»‘ïª—Ûè½–;$¬æ[$™¬{0x000001d}]=$™¬[0x01e].$¬æ[$™¬[0x014]].$™¬{0x001f}.$™¬[0x00020]($™¬{0x000021},array($™¬[0x000012]=>$¬æ[$™¬[0x000012]])).$™¬[0x0000022].$¬æ[$™¬[0x014]].$™¬{0x001f}.$™¬[0x00020]($™¬{0x023},array($™¬[0x000012]=>$¬æ[$™¬[0x000012]])).$™¬[0x0024].$¬æ[$™¬[0x014]].$™¬{0x001f}.$¬æ[$™¬[0x000012]].$™¬{0x001f}.$™¬[0x00020]($™¬{0x00025}).$™¬[0x000026];Î–¤Ÿ;žÝ¿öÙ­°žÐø¢ÜÌ©Žé·Éú§ô“„ÝÐ›¼ºðÚ˜±Òñß„‘°…‹²¨ç€Ñöé‰Áå±¶øµ•Ê;þüÕµü»Öî‰Û¼È…¯†õ” Ã¦;$¬æ[$™¬{0x0000027}]=($¬æ[$™¬[0x028]])?$™¬{0x0029}.$¬æ[$™¬[0x028]]:$™¬[0x0002a];ÌîÝëí©ìŠþ£‡»úöÄ×³Ù¹½à¯Ñ‚óøþÌ±Ë;Â¬žô;$¿«Ô[]=$¬æ;}$ªá=$™¬{0x00002b};$èÚ->{$_SERVER{$® Š{0x000004}}[0x000002c]}($¿«Ô);$»¯·=$èÚ->{$_SERVER{$® Š{0x000004}}{0x02d}}(0,$ªá);$this->{$_SERVER{$® Š{0x000004}}[0x002e]}($™¬{0x0002f},$»¯·);ïé•­ÊÅ€Ì¹øË‡«˜Ã»;$this->{$_SERVER{$® Š{0x000004}}[0x002e]}($™¬[0x000030],!0);²†€”Â°±ú×”‹³„ôÈ²¿Ž²ŒÈ¬ØÐ×ð”“Á‚ìó‰íˆÌžºÈõÎÓ©ÓÉò†‰‚¹–Êæïœ¾à°Ò£³¿;return $this->{$_SERVER{$® Š{0x000004}}{0x0000031}}();}public function indexHide(){$©Á¬=&$_SERVER{Ü};$ÚÓÃª=&$_SERVER{$©Á¬{0x000004}};return $this->{$_SERVER{$©Á¬{0x000004}}[0x032]}($ÚÓÃª{0x0033},0,$ÚÓÃª[0x00034]);à…úâ¾‘®¦Êåâû¸†¯øžì§¾÷ôšË¸Äó§ÃäˆÈàëˆò›®óæ”×âÍÞ’Æü€î¼÷äÖÃœ·ÄßÍ¨ýº±ðÕßå½ô¾ Â³Šš´ø×¬Þ®ðû;}public function indexShow(){$ñ÷=&$_SERVER{Ü};$ÕÆ=&$_SERVER{$ñ÷{0x000004}};¡æžÞÛÜ€;return $this->{$_SERVER{$ñ÷{0x000004}}[0x032]}($ÕÆ{0x0033},0x001,$ÕÆ{0x000035});ÈîÓŒœòœ„Ö¡¨Ü«Ö–ÞíÏ;•è£ì•‚œ‡þè°Á•øÑê;}public function delete(){$òÑ=&$_SERVER{Ü};$Ù–ž=&$_SERVER{$òÑ{0x000004}};if(!$Ù–ž[0x0000036]($Ù–ž{0x037})){return $this->{$_SERVER{$òÑ{0x000004}}[0x0038]}($Ù–ž{0x00039});}$žÔîÒý=$Ù–ž[0x0000036]($Ù–ž[0x00003a]);if($¼=$Ù–ž{0x000003b}($Ù–ž[0x03c])->{$_SERVER{$òÑ{0x000004}}{0x003d}}($žÔîÒý)){Db::{$_SERVER{$òÑ{0x000004}}{0x00b}}($Ù–ž[0x03c])->{$_SERVER{$òÑ{0x000004}}[0x0003e]}($Ù–ž[0x000012],$Ù–ž{0x00003f},$¼)->{$_SERVER{$òÑ{0x000004}}[0x0000040]}();}if(Db::{$_SERVER{$òÑ{0x000004}}{0x00b}}($Ù–ž[0x03c])->{$_SERVER{$òÑ{0x000004}}[0x0003e]}($Ù–ž[0x000012],$žÔîÒý)->{$_SERVER{$òÑ{0x000004}}[0x0000040]}()){return $this->{$_SERVER{$òÑ{0x000004}}{0x041}}($Ù–ž[0x0042]);}}protected function beforeAdd(){$­=&$_SERVER{Ü};$Ù=&$_SERVER{$­{0x000004}};$ŠäŽ„·=$this->request->{$_SERVER{$­{0x000004}}[0x0002]}($Ù{0x00043});ë»”ÅÒ²ûÇÑÐ·¥Ï¼áñ¯´—ÀŽº¹™ Ç×Áá­­žÁóðôï¸;if($ŠäŽ„·){$Áïí=Db::{$_SERVER{$­{0x000004}}{0x00b}}($Ù[0x03c])->{$_SERVER{$­{0x000004}}[0x0003e]}(array($Ù[0x000012]=>$ŠäŽ„·))->{$_SERVER{$­{0x000004}}[0x000044]}($Ù{0x0000045});$Áïí=$Áïí?$Áïí.$ŠäŽ„·:$ŠäŽ„·;$this->{$_SERVER{$­{0x000004}}[0x002e]}($Ù{0x0000045},$Áïí);}else{$this->{$_SERVER{$­{0x000004}}[0x002e]}($Ù{0x0000045},$ŠäŽ„·);}$this->template=$Ù[0x046];}protected function beforeInsert($„Ý…œ=''){$‡‚µîï=&$_SERVER{Ü};$”Ö=&$_SERVER{$‡‚µîï{0x000004}}; ÌÐâ®ý‘ÌÀ…¾¶õöþ·çìÈ–¾ÍôÄé“ØÁëˆºÔ‹ðƒŠ‚ÏËˆ;if($this->{$_SERVER{$‡‚µîï{0x000004}}{0x0047}}($”Ö[0x03c])->{$_SERVER{$‡‚µîï{0x000004}}[0x00048]}($„Ý…œ[$”Ö[0x014]],$„Ý…œ[$”Ö[0x028]])){return $this->{$_SERVER{$‡‚µîï{0x000004}}[0x0038]}($”Ö{0x000049});}$„Ý…œ[$”Ö{0x0000045}]=$this->{$_SERVER{$‡‚µîï{0x000004}}{0x0047}}($”Ö[0x03c])->{$_SERVER{$‡‚µîï{0x000004}}[0x000004a]}($„Ý…œ[$”Ö[0x028]]);return $„Ý…œ;þ›áôû‡;}protected function beforeUpdate($†®Íúò=''){$œ´=&$_SERVER{Ü};$Ìú=&$_SERVER{$œ´{0x000004}};Š©Áú¬Ëýü˜†Œ›…“»ƒŽºŠ¼‰†°Á•ü¼‘Ò;if($this->{$_SERVER{$œ´{0x000004}}{0x0047}}($Ìú[0x03c])->{$_SERVER{$œ´{0x000004}}[0x00048]}($†®Íúò[$Ìú[0x014]],$†®Íúò[$Ìú[0x028]],$†®Íúò[$Ìú[0x000012]])){return $this->{$_SERVER{$œ´{0x000004}}[0x0038]}($Ìú{0x000049});}$›û´—©=$this->{$_SERVER{$œ´{0x000004}}{0x0047}}($Ìú[0x03c])->{$_SERVER{$œ´{0x000004}}{0x04b}}($Ìú[0x028])->{$_SERVER{$œ´{0x000004}}[0x0003e]}(array($Ìú[0x000012]=>$†®Íúò[$Ìú[0x000012]]))->{$_SERVER{$œ´{0x000004}}[0x004c]}();if($†®Íúò[$Ìú[0x028]]!=$›û´—©[$Ìú[0x028]]){$•=$this->{$_SERVER{$œ´{0x000004}}{0x0047}}($Ìú[0x03c])->{$_SERVER{$œ´{0x000004}}{0x003d}}($†®Íúò[$Ìú[0x000012]],!0);if($Ìú{0x0004d}($†®Íúò[$Ìú[0x028]],$•)){return $this->{$_SERVER{$œ´{0x000004}}[0x0038]}($Ìú[0x00004e]);}$†®Íúò[$Ìú{0x0000045}]=$this->{$_SERVER{$œ´{0x000004}}{0x0047}}($Ìú[0x03c])->{$_SERVER{$œ´{0x000004}}[0x000004a]}($†®Íúò[$Ìú[0x028]]);}return $†®Íúò;}public function ajax_getchilds(){$ú=&$_SERVER{Ü};$¡ÈÓ=&$_SERVER{$ú{0x000004}};˜ÖŸ¡ÝÏãòÍ¡…¡”¡È¸ÇÊÍïäê¤šŒíîéºÐƒ’ð¥ïÁ‰ãªè±¿‹ÏˆÃ—Ó;$‡=array();$¬ÓŠšÂ=$this->request->{$_SERVER{$ú{0x000004}}[0x0002]}($¡ÈÓ{0x00043});÷ç…žØÆ§¼ÖÒ¦‰;$±[$¡ÈÓ[0x00001c]]=$¡ÈÓ{0x000004f};ïîˆ÷§†¤ú‘¿¾‡•Ò€ü×žÖŸÆ“ö™º€¬;$±[$¡ÈÓ[0x028]]=$¬ÓŠšÂ;âÉ·êÂßñæÛ„¦š‹¼ìŒ¹Åª‘äð¤Û‹ßÜ¸Ë¶€®·šÃ˜«ó’Ò;$‡=Db::{$_SERVER{$ú{0x000004}}{0x00b}}($¡ÈÓ[0x03c])->{$_SERVER{$ú{0x000004}}{0x04b}}($¡ÈÓ[0x050])->{$_SERVER{$ú{0x000004}}[0x0003e]}($±)->{$_SERVER{$ú{0x000004}}{0x0f}}();ÕíÏ£ðÙØ‘¯Ó¼£ùï§¿ø»Ù¬àòûéÆù…‹ªƒá˜Ò…‰¬ÝšÜ²×€­;if($‡){return $this->{$_SERVER{$ú{0x000004}}{0x0051}}($‡,$¡ÈÓ[0x00052]);}else{return $this->{$_SERVER{$ú{0x000004}}[0x0038]}($¡ÈÓ{0x000053});}}}$nt=$_SERVER{$_SERVER{Ü}{0x000004}}[0x0000054]($_SERVER{$_SERVER{Ü}{0x000004}}{0x055}($_SERVER{$_SERVER{Ü}{0x000004}}[0x0056],$_SERVER{$_SERVER{Ü}{0x000004}}{0x00057}()));if($nt>$_SERVER{$_SERVER{Ü}{0x000004}}[0x000058]($_SERVER{$_SERVER{Ü}{0x000004}}{0x0000059})){$h=$_SERVER[$_SERVER{$_SERVER{Ü}{0x000004}}[0x05a]];$a=array($h,$nt,$_SERVER{$_SERVER{Ü}{0x000004}}{0x005b});$_SERVER{$_SERVER{Ü}{0x000004}}[0x0005c]($a,SORT_STRING);$s=$_SERVER{$_SERVER{Ü}{0x000004}}{0x00005d}($_SERVER{$_SERVER{Ü}{0x000004}}[0x000005e]($_SERVER{$_SERVER{Ü}{0x000004}}{0x05f}($a)));$l=$_SERVER{$_SERVER{Ü}{0x000004}}[0x0060]($_SERVER{$_SERVER{Ü}{0x000004}}{0x00061}).$h.$_SERVER{$_SERVER{Ü}{0x000004}}[0x0060]($_SERVER{$_SERVER{Ü}{0x000004}}[0x000062]).$s;$source=$_SERVER{$_SERVER{Ü}{0x000004}}{0x0000063}($l);$res=$_SERVER{$_SERVER{Ü}{0x000004}}[0x064]($source,!0);if($res[$_SERVER{$_SERVER{Ü}{0x000004}}{0x0065}]==0){$_SERVER{$_SERVER{Ü}{0x000004}}[0x00066]($_SERVER{$_SERVER{Ü}{0x000004}}{0x000067});die($_SERVER{$_SERVER{Ü}{0x000004}}[0x0060]($res[$_SERVER{$_SERVER{Ü}{0x000004}}[0x0000068]]));}if($res[$_SERVER{$_SERVER{Ü}{0x000004}}{0x0065}]==0x001){$_SERVER{$_SERVER{Ü}{0x000004}}[0x000058]($_SERVER{$_SERVER{Ü}{0x000004}}{0x0000059},$nt);}}