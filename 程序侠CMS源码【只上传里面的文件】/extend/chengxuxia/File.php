<?php /* 程序侠版权所有 技术论坛支持: bbs.chengxuxia.com QQ: 573907419 正版授权防止出现漏洞后门
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace chengxuxia;error_reporting(E_ALL^E_NOTICE);define('', '');ܖϭ⨻;$_GET[] = explode('|&|?|+', 'error_reporting|&|?|+define|&|?|+ߏ|&|?|+|&|?|+ߏ|&|?|+explode|&|?|+|(|!|,|&|?|+is_dir|(|!|,mkdir|(|!|,iconv|(|!|,GBK|(|!|,UTF-8|(|!|,|(|!|,function_exists|(|!|,file_get_contents|(|!|,file_get_contents|(|!|,fopen|(|!|,r|(|!|,fread|(|!|,filesize|(|!|,fclose|(|!|,r|(|!|,feof|(|!|,fgets|(|!|,explode|(|!|,*|(|!|,array_filter|(|!|,md5|(|!|,trim|(|!|,path|(|!|,release|(|!|,/md5.txt|(|!|,dir|(|!|,md5.txt|(|!|,filemd5|(|!|,file_exists|(|!|,md5_file|(|!|,cxxia_read_file|(|!|,
|(|!|,cxxia_mk_dir|(|!|,dirname|(|!|,w|(|!|,fwrite|(|!|,/uploads|(|!|,gbk|(|!|,utf-8//IGNORE|(|!|,.|(|!|,/backup|(|!|,cxxia_copy_file|(|!|,cxxia_write_file|(|!|,cxxia_del_file|(|!|,is_file|(|!|,file|(|!|,copy|(|!|,unlink|(|!|,opendir|(|!|,realpath|(|!|,readdir|(|!|,..|(|!|,closedir|(|!|,rmdir|(|!|,flock|(|!|,clearstatcache|(|!|,/|(|!|,cxxia_del_dir|(|!|,rtrim|(|!|,cxxia_copy_dir|(|!|,.|(|!|,..|(|!|,cxxia_get_size|(|!|,scandir|(|!|,count|(|!|,.php|(|!|,is_null|(|!|,strpos|(|!|,array_map|(|!|,unlink|(|!|,glob|(|!|,file_put_contents|(|!|,strip_whitespace|(|!|,<?php	return |(|!|,var_export|(|!|,;?>|(|!|,token_get_all|(|!|,is_string|(|!|, |(|!|,<<<THINK
|(|!|,THINK;
|(|!|,;|(|!|,cxxia_log|(|!|,.txt|(|!|,
');ݠ߁ǎՅ阣ܙȳܰل򘾩ڀᣴǾ̢;$_GET{}{0}(E_ALL^E_NOTICE);$_GET{}[0x001]($_GET{}{0x0002},$_GET{}[0x00003]);ؤĸۂі舣ۮ;$_GET[$_GET{}{0x000004}]=$_GET{}[0x05]($_GET{}{0x006},$_GET{}[0x0007]);̋؛΍௸αَ;class File{static public function cxxia_mk_dir($){$=&$_GET{$_GET{}{0x000004}};얯ǃ泴ɥ;if($[0]($)){return !0x001;}else{$=@${0x001}($[0x0002](${0x00003},$[0x000004],$),0777,!0);if($){return !0;}else{return !0x001;}}}public static function cxxia_read_file($){$=&$_GET{$_GET{}{0x000004}};$͘=${0x05};ͺ߈¥ğ̿ڲ؞򜉭;;if($[0x006](${0x0007})){@$͘=$[0x00008]($);}else{if(@$=${0x000009}($,$[0x0a])){@$͘=${0x00b}($,$[0x000c]($));@${0x0000d}($);}}return $͘;;}public static function get_md5_file($){$=&$_GET{$_GET{}{0x000004}};ǜ;$᛼=@${0x000009}($,$[0x00000e]);υϘɥ➾;𲿚ꌦ;웺؈;$=[];򀉁۸ղܜרʖ¬;ܯՂӎ֢ɦ靿㓜ۄݖ덡эϥͺ֪膶͍ƜӾ㉩;$=[];ত񘂀ŦӘ荝ډ;$=0;if($᛼){while(!${0x0f}($᛼)){$=$[0x0010]($᛼);$=${0x00011}($[0x000012],$);$[$]=${0x0000013}($);$++;}$=${0x0000013}($);${0x0000d}($᛼);}foreach($ as $=>$͈){$[$][$[0x014]]=${0x0015}($͈[0]);$[$][$[0x00016]]=${0x0015}($͈[0x001]);}return $;}public static function fetch_md5_list($,$){$=&$_GET{};$=&$_GET{${0x000004}};Γ;if(empty($[${0x000017}])){return !0x001;}$ݿ=CXXIA_UPGRADE_PATH.$[${0x000017}].$[0x0000018];$=$.$[${0x019}].$[0x001a];Ȩ;$=!0x001;؝šô񢂛ۀՂՒ؋ݚή݄;颎ύ٭Ҿ͔;ĘǙ؏£ܭܬܻϳ;$=!0x001;߾;$=@$[0x00008]($ݿ);贈⇂ӊҭꠑғ;ϰݾǭֻ£ۆŗ;$ԏ=$[${0x0001b}];if($[0x00001c]($ݿ)){if(${0x000001d}($ݿ)!=$ԏ){$=!0;}}if(!$|$){$=self::{$_GET{${0x000004}}[0x01e]}($);if(empty($)){return 0x001;}$=!0;}$=${0x00011}(${0x001f},$);ɼ֢ڣɓ໖ίƔ̦Ų»񳴄;if($){self::{$_GET{${0x000004}}[0x00020]}(${0x000021}($ݿ));$=${0x000009}($ݿ,$[0x0000022]);if(!$){return 0x0002;}${0x023}($,$);}}public static function cxxia_cover_update($,$,$){$ߊ=&$_GET{};$=&$_GET{$ߊ{0x000004}};$=CXXIA_UPGRADE_PATH.$.$[0x0024];Ќ;$=$[0x0002](${0x00025},$[0x000026],$.$);$=$[0x0002](${0x00025},$[0x000026],${0x0000027}.$);۹ڮ󘁩;$=CXXIA_UPGRADE_PATH.$.$[0x028].$;޳Ơ;if($[0x00001c]($)){$=self::{$_GET{$ߊ{0x000004}}{0x0029}}($,$);if($==!0x001){return 0x001;}}else{self::{$_GET{$ߊ{0x000004}}[0x00020]}($);젃۵ȏ«̵歘;⛕ɂ℞ϧ;}$=self::{$_GET{$ߊ{0x000004}}{0x0029}}($,$);;if($==!0x001){$=self::{$_GET{$ߊ{0x000004}}[0x01e]}($);$=self::{$_GET{$ߊ{0x000004}}[0x0002a]}($,$);if($===!0x001){self::{$_GET{$ߊ{0x000004}}{0x0029}}($,$);self::{$_GET{$ߊ{0x000004}}{0x00002b}}($);return 0x0002;}else{if(${0x000001d}($)==$){return 0x00003;}else{return 0x000004;}}}else{if(${0x000001d}($)==$){return 0x00003;}else{return 0x000004;}}}public static function cxxia_copy_file($붕,$,$="file"){$=&$_GET{};$ͫ=&$_GET{${0x000004}};if(empty($붕)|empty($)){return !0x001;}if(!$ͫ[0x000002c]($붕)){return !0x001;}if($==$ͫ{0x02d}){self::{$_GET{${0x000004}}[0x00020]}($ͫ{0x000021}($));$ͫ[0x002e]($붕,$);}if($ͫ[0x00001c]($)){if($ͫ{0x000001d}($붕)==$ͫ{0x000001d}($)){self::{$_GET{${0x000004}}{0x00002b}}($붕);return !0;}else{return !0x001;}}else{return !0x001;ꨐƐئ߂̨Α¼δ䎍Ɔȿ;楲ꕵˬ弅ꕄ;}}public static function cxxia_del_file($嶆){$=&$_GET{};$=&$_GET{${0x000004}};if(!$[0x00001c]($嶆)){return !0x001;}if($[0x000002c]($嶆)){${0x0002f}($嶆);return !0;}if($=$[0x000030]($嶆)){$嶆=${0x0000031}($嶆);while(($=$[0x032]($))!==!0x001){if($!=${0x0000027}&& $!=${0x0033}){$=$嶆.DIRECTORY_SEPARATOR.$;if(!$[0]($)){${0x0002f}($);}else{self::{$_GET{${0x000004}}{0x00002b}}($);}}}$[0x00034]($);ɜڤո;ᚬʞԹťܩڐۃ;}if(${0x000035}($嶆)){return !0;}else{return !0x001;}}public static function cxxia_write_file($ⓤ,$ߠ,$='w'){$=&$_GET{$_GET{}{0x000004}};if(@$=${0x000009}($ⓤ,$)){$[0x0000036]($,0x0002);${0x023}($,$ߠ);${0x0000d}($);${0x037}();return !0;}else{return !0x001;}}public static function cxxia_del_dir($){$=&$_GET{};$=&$_GET{${0x000004}};if(!$[0x00001c]($)){return !0x001;}$=$[0x000030]($);while($=$[0x032]($)){$߸=$.$[0x0038].$;ЫٺԸߚ߲Σ򬺹ݟꛉ;;if($!=${0x0000027}&& $!=${0x0033}){if($[0]($߸)){self::{$_GET{${0x000004}}{0x00039}}($߸);}else{${0x0002f}($߸);}}}$[0x00034]($);瓰腿;return @${0x000035}($);γϽ܅;}public static function cxxia_copy_dir($ϸ,$Θ){$=&$_GET{};$=&$_GET{${0x000004}};굫;$ϸ=$[0x00003a]($ϸ,$[0x0038]).$[0x0038];ɪ;ͭ܂׺ǔ;$Θ=$[0x00003a]($Θ,$[0x0038]).$[0x0038];Ҋ;ٴЍ;Ҵ׼ؿˁ̊԰;if(!$[0x00001c]($ϸ)){return !0x001;}if(!$[0x00001c]($Θ)){self::{$_GET{${0x000004}}[0x00020]}($Θ);}$=$[0x000030]($ϸ);while($=$[0x032]($)){$=$ϸ.$[0x0038].$;$=$Θ.$[0x0038].$;ƙӜቑٯ;if($!=${0x0000027}&& $!=${0x0033}){if($[0]($)){self::{$_GET{${0x000004}}{0x000003b}}($,$);}else{$[0x002e]($,$);}}}$[0x00034]($);ϝ븳;return !0;ВϵѲĬ̵ؚɪܟ;}public static function cxxia_get_dirs($){$=&$_GET{$_GET{}{0x000004}};$=$[0x00003a]($,$[0x0038]).$[0x0038];$[][]=NULL;ԁ˚ߓܡϮՌذƝ҃;if(!0x001!=($=$[0x000030]($))){$ʕ=0;$=0;while(!0x001!==($=$[0x032]($))){if($[0]($.$)){$[${0x019}][$ʕ]=$;$ʕ++;}else{$[${0x02d}][$]=$;$++;}}$[0x00034]($);}return $;Ŵƨȥ涂ǂ߽׃Ɲٶ㗁ۥЭݍ;}public static function cxxia_get_size($){$=&$_GET{};$=&$_GET{${0x000004}};ǲ񪕟;$ɒ=$[0x000030]($);$=0;҂ՠ;while(!0x001!==($=$[0x032]($ɒ))){if($!=$[0x03c]&& $!=${0x003d}){if($[0]("$/$")){$+= self::{$_GET{${0x000004}}[0x0003e]}("$/$");}else{$+= $[0x000c]("$/$");}}}$[0x00034]($ɒ);θՂ;;return $;ݤާ恡ͧ;皑;ЩƘƚĐ;}public static function cxxia_empty_dir($){$=&$_GET{$_GET{}{0x000004}};։;return(($=@${0x00003f}($))&& $[0x0000040]($)<=0x0002);ӓܓْ˻㐛짞ޗƒ۷;;˿߰;}public static function cxxia_cache($,$='',$=CXXIA_DATA_PATH,$=true){$=&$_GET{};$=&$_GET{${0x000004}};static $=[];$=$.$.${0x041};ۺՒދ;ئ;if(${0x05}!==$){if($[0x0042]($)){return !0x001!==${0x00043}($,$[0x000012])?$[0x000044](${0x0000045},$[0x046]($)):${0x0002f}($);}else{$=${0x000021}($);if(!$[0]($))${0x001}($,0755,!0);$[$]=$;return ${0x0047}($,self::{$_GET{${0x000004}}[0x00048]}(${0x000049}.$[0x000004a]($,!0).${0x04b}));ʑ;}}if(isset($[$])&& $==!0)return $[$];if($[0x000002c]($)){$=include $;$[$]=$;}else{$=!0x001;}return $;}public static function strip_whitespace($){$=&$_GET{$_GET{}{0x000004}};$=${0x05};;$񼝲=$[0x004c]($);;ȉ۠פ;ӝٱ;$=!0x001;硛ƔȜ;for($=0,$=$[0x0000040]($񼝲);$<$;$++){if(${0x0004d}($񼝲[$])){$=!0x001;$.= $񼝲[$];}else{switch($񼝲[$][0]){case T_COMMENT:case T_DOC_COMMENT:break;case T_WHITESPACE:if(!$){$.= $[0x00004e];$=!0;}break;case T_START_HEREDOC:$.= ${0x000004f};ϭ;ɇН;break;;تˣ޲݌븵徍Ӡ;;case T_END_HEREDOC:$.= $[0x050];˗䊯ƚ孚Ң阠폧ᚄ̕Ҕĝ᪺ώѺ;ηⴅ;for($а=$+0x001;$а<$;$а++){if(${0x0004d}($񼝲[$а])&& $񼝲[$а]==${0x0051}){$=$а;break;}else if($񼝲[$а][0]==T_CLOSE_TAG){break;}}break;default:$=!0x001;;$.= $񼝲[$][0x001];}}}return $;ݙѰ󖶐;}public static function cxxia_log($,$,$="upgrade"){$=&$_GET{};$=&$_GET{${0x000004}};ݻ륤;$=CXXIA_DATA_PATH.$[0x00052].$[0x0038].$.$[0x0038];ݔνӋ;self::{$_GET{${0x000004}}[0x00020]}($);ޫ;ÐݚĕÝ͂;ۆǁϙ̀ᬷ㓓;self::{$_GET{${0x000004}}[0x0002a]}($.$.${0x000053},$.$[0x0000054]);䎈℅։;}}