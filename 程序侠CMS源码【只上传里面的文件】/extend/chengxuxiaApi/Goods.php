<?php /* ç¨‹åºä¾ ç‰ˆæƒæ‰€æœ‰ æŠ€æœ¯è®ºå›æ”¯æŒ: bbs.chengxuxia.com QQ: 573907419 æ­£ç‰ˆæˆæƒé˜²æ­¢å‡ºç°æ¼æ´åé—¨
-- enphp : https://git.oschina.net/mz/mzphp2
 */   namespace chengxuxiaApi;error_reporting(E_ALL^E_NOTICE);define('ƒÂ', '°¬ì');ÒÀÉ’È«öÎ¡ñ¤êÊ–­Ìîßå•ªõë””ÜéÏù¼Ä;$GLOBALS[ƒÂ] = explode('|$|@|!', 'û¹È|$|@|!—ı|$|@|!|,|,|?|$|@|!API|,|,|?api_config|,|,|?chengxuxia|,|,|?key|,|,|?secret|,|,|?chengxuxia.TopClient|,|,|?chengxuxia.RequestCheckUtil|,|,|?chengxuxia.Logger|,|,|?code|,|,|?msg|,|,|?ç¨‹åºä¾ APIæœªå¡«å†™|,|,|?GoodsListGetRequest|,|,|?column|,|,|?fields|,|,|?ids|,|,|?keyword|,|,|?sort|,|,|?cid|,|,|?couponPrice|,|,|?page|,|,|?pageSize|,|,|?m-d:H|,|,|?goodsList|,|,|?list|,|,|?cate|,|,|?total|,|,|?GoodsDetailsGetRequest|,|,|?m-d|,|,|?details|,|,|?likeGoods|,|,|?historyGoods|,|,|?');ïÆ©‘Óœ¶¿æÌì³¼ÌÃ£áî™Íƒ®«íş¦«êúéÛÁ”í–°¤Õ—ñÂË¯ÒñşìÀƒ›ëğ›“œ«ş˜–ÚÙªÉïÛîÆóá‰¿‘™ĞãŒÏĞÍÓì¹ÄˆÍá´ÌùÊ¨ÔõñÅÑáŒÅÃ–†Ô°Ö¸¼§ŠŠú÷;error_reporting(E_ALL^E_NOTICE);define($GLOBALS{ƒÂ}[0],$GLOBALS{ƒÂ}{0x001});’ä‰¼¼±©ä«Ò½úğ²¾ğá‘¦‚¹¹ş¹ÀÓÇÚ«ììõ©Í¨Ò³Ó¦ğÏ˜£ìÖ•Ïç»;$_GET[û¹È]=explode($GLOBALS{ƒÂ}[0x0002],$GLOBALS{ƒÂ}{0x00003});õÑÛ·¦£’Ñ‘şâˆ¨±°ûä…£ÖÔ»úÂ“’úÌåÂ·ùùŞŒ±¯‹”·´Æ;class Goods{private $appkey;private $secretKey;private $topClient;public function __construct(){$Ÿ=&$_GET{û¹È};Ÿ¶¸™•Ö¦Æ‡²Û¾æ¢§˜Î•ìÒ×ıÑÜ¢áôÂ¾óİª¹÷À‘Ÿ‡˜Ñâ×¸†şÑÔ”;if($¨ë½=get_config($Ÿ[0],$Ÿ{0x001})){if($¨ë½[$Ÿ[0x0002]][$Ÿ{0x00003}]&&$¨ë½[$Ÿ[0x0002]][$Ÿ[0x000004]]){$this->appkey=trim($¨ë½[$Ÿ[0x0002]][$Ÿ{0x00003}]);$this->secretKey=trim($¨ë½[$Ÿ[0x0002]][$Ÿ[0x000004]]);vendor($Ÿ{0x05});vendor($Ÿ[0x006]);vendor($Ÿ{0x0007});$this->topClient=new \TopClient;$this->topClient->appkey=$this->appkey;$this->topClient->secretKey=$this->secretKey;}else{return json_encode([$Ÿ[0x00008]=>0,$Ÿ{0x000009}=>$Ÿ[0x0a]]);}}}public function getGoodsList($ÉßÛ¿£=[]){$³¤=&$_GET{û¹È};ğŸï§‰âŠàœ‘àíåô­áê‰¬Ëåëî€ ”øşòêŸãûÆìŞÑÎúâ¯éÉ¥—Ø‡ƒá³ÏÇ ¾ÈÀ;if(is_object($this->topClient)){$Â¿Æ­=$this->topClient->load_api($³¤{0x00b});if(isset($ÉßÛ¿£[$³¤[0x000c]])){$Â¿Æ­->setColumn($ÉßÛ¿£[$³¤[0x000c]]);}if(isset($ÉßÛ¿£[$³¤{0x0000d}])){$Â¿Æ­->setFields($ÉßÛ¿£[$³¤{0x0000d}]);}if(isset($ÉßÛ¿£[$³¤[0x00000e]])){$Â¿Æ­->setIds($ÉßÛ¿£[$³¤[0x00000e]]);}if(isset($ÉßÛ¿£[$³¤{0x0f}])){$Â¿Æ­->setKeyword(urlencode($ÉßÛ¿£[$³¤{0x0f}]));}if(isset($ÉßÛ¿£[$³¤[0x0010]])){$Â¿Æ­->setSort($ÉßÛ¿£[$³¤[0x0010]]);}if(isset($ÉßÛ¿£[$³¤{0x00011}])){$Â¿Æ­->setCid($ÉßÛ¿£[$³¤{0x00011}]);}if(isset($ÉßÛ¿£[$³¤[0x000012]])){$Â¿Æ­->setCouponPrice($ÉßÛ¿£[$³¤[0x000012]]);}if(isset($ÉßÛ¿£[$³¤{0x0000013}])){$Â¿Æ­->setPageNo($ÉßÛ¿£[$³¤{0x0000013}]);}if(isset($ÉßÛ¿£[$³¤[0x014]])){$Â¿Æ­->setSize($ÉßÛ¿£[$³¤[0x014]]);}$Â¿Æ­->setTime(date($³¤{0x0015}));$ªª¥˜=$this->topClient->execute($Â¿Æ­);if(property_exists($ªª¥˜,$³¤[0x00016])){$ç…Ú—î=object_to_array($ªª¥˜->goodsList);$¼‡=object_to_array($ªª¥˜->cateList);$ÄŠßøÙ=$ªª¥˜->total;$™™=[];$™™[$³¤{0x000017}]=$ç…Ú—î;$™™[$³¤[0x0000018]]=$¼‡;$™™[$³¤{0x019}]=$ÄŠßøÙ;return $™™;}}}public function getGoodsDetails($Ùì³š´,$øßŒŸ='',$–˜à›ò=ture){$‹˜µ“–=&$_GET{û¹È};ô÷’ç€Âƒ´¤ü”±Çµíã¨æïÁƒ×™;if(is_object($this->topClient)){$Í=$this->topClient->load_api($‹˜µ“–[0x001a]);if($Ùì³š´){$Í->setId($Ùì³š´);}if($øßŒŸ){$Í->setIds($øßŒŸ);}if($–˜à›ò){$Í->setFields($–˜à›ò);}$Í->setTime(date($‹˜µ“–{0x0001b}));$ìœ=$this->topClient->execute($Í);‘‚—÷âª×¨;¿ˆàã…;if(property_exists($ìœ,$‹˜µ“–[0x00001c])){$–¢ƒİ×=object_to_array($ìœ->details);$ÁØ±Â=object_to_array($ìœ->likeGoods);$µšÖè=[];$µšÖè[$‹˜µ“–[0x00001c]]=$–¢ƒİ×;$µšÖè[$‹˜µ“–{0x000001d}]=$ÁØ±Â;if($øßŒŸ){$ğÕ=object_to_array($ìœ->historyGoods);$µšÖè[$‹˜µ“–[0x01e]]=empty($ğÕ)?$‹˜µ“–{0x001f}:$ğÕ;}return $µšÖè;}}}}